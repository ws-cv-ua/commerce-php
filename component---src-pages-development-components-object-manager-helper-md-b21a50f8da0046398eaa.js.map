{"version":3,"file":"component---src-pages-development-components-object-manager-helper-md-b21a50f8da0046398eaa.js","mappings":"qMAUsBA,E,wEAFTC,EAAe,GAOtBC,GALgBF,EAKY,cALJ,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,KAIZG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,yBADR,0BAGA,2IAA4H,cAAGC,WAAW,IACtI,KAAQ,qDADgH,wBAA5H,4NAIA,8BAAe,uBAAYA,WAAW,KAAvB,oEAAf,4PAEA,SAACV,EAAD,CAAaW,QAAQ,OAAOC,MAAM,OAAOH,QAAQ,iBACjD,iHACA,eACE,GAAM,WADR,YAGA,sEACA,oBACE,eAAIC,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,cADQ,oBAApB,sEAGA,eAAIA,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,sBADQ,4BAApB,0CAGA,eAAIA,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,0BADQ,gCAApB,qEAIF,eACE,GAAM,aADR,cAGA,iHAAkG,uBAAYA,WAAW,KAAvB,cAAlG,6CAC8B,uBAAYA,WAAW,KAAvB,cAD9B,uDAEA,mBAAG,mBAAQA,WAAW,KAAnB,UAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,2EAKL,mBAAG,mBAAQA,WAAW,KAAnB,WAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,4cAcL,eACE,GAAM,qBADR,sBAGA,sFACA,mBAAG,mBAAQA,WAAW,KAAnB,UAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,yEAKL,gEAAiD,uBAAYA,WAAW,KAAvB,SAAjD,YACA,mBAAG,mBAAQA,WAAW,KAAnB,WAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,8aAeL,eACE,GAAM,yBADR,0BAGA,oEACA,mBAAG,mBAAQA,WAAW,KAAnB,UAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,uFAKL,gIACA,mBAAG,mBAAQA,WAAW,KAAnB,WAAH,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,y3BA+BTH,EAAWM,gBAAiB","sources":["webpack://commerce-php/./src/pages/development/components/object-manager/helper.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"object-manager-helper\"\n    }}>{`Object manager helper`}</h1>\n    <p>{`Block and model class constructors declare many dependencies. Adobe Commerce and Magento Open Source use constructor `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/dependency-injection\"\n      }}>{`dependency injection`}</a>{`.\nTo unit test such classes, you must manually create mocks for all constructor parameters before you can instantiate the class objects. If the number of dependencies is ten or greater, this task is time-consuming.`}</p>\n    <p>{`Use the `}<inlineCode parentName=\"p\">{`\\\\Magento\\\\Framework\\\\TestFramework\\\\Unit\\\\Helper\\\\ObjectManager`}</inlineCode>{` helper class to simplify this task. Its methods automatically create mocks for all required dependencies. You can then instantiate a testing object by passing these mocks to a class constructor.\nYou can still create your custom mocks, if needed.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Do not use the ObjectManager helper class for classes with a small number of dependencies.`}</p>\n    <h2 {...{\n      \"id\": \"methods\"\n    }}>{`Methods`}</h2>\n    <p>{`The ObjectManager public interface methods are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#getobject\"\n        }}>{`getObject method`}</a>{`. Creates class instances with automatically mocked dependencies.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#getCollectionMock\"\n        }}>{`getCollectionMock method`}</a>{`. Lists mocked constructor arguments.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#getConstructArguments\"\n        }}>{`getConstructArguments method`}</a>{`. Creates collection instances that contain specified elements.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"getobject\"\n    }}>{`getObject`}</h3>\n    <p>{`Creates mocks for all constructor dependencies and applies any specified custom mocks from `}<inlineCode parentName=\"p\">{`$arguments`}</inlineCode>{` array.\nAlso, instantiates the required `}<inlineCode parentName=\"p\">{`$className`}</inlineCode>{` by using constructor with already existing mocks.`}</p>\n    <p><strong parentName=\"p\">{`Syntax`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`public function getObject($className,\n     array $arguments = []);\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Example`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$objectManagerHelper = new \\\\Magento\\\\TestFramework\\\\Helper\\\\ObjectManager($this);\n\n// default constructor arguments\n$scopePool = $objectManagerHelper->getObject('\\\\Magento\\\\App\\\\Config\\\\ScopePool');\n\n// custom constructor arguments\n$cacheMock = $this->getMock('\\\\Magento\\\\Cache\\\\FrontendInterface');\n...\n$arguments = ['cache' => $cacheMock];\n$scopePool = $objectManagerHelper->getObject('\\\\Magento\\\\App\\\\Config\\\\ScopePool',\n     $arguments);\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"getcollectionmock\"\n    }}>{`getCollectionMock`}</h3>\n    <p>{`Retrieves a collection instance with mocked getIterator method.`}</p>\n    <p><strong parentName=\"p\">{`Syntax`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`public function getCollectionMock($className,\n     array $data);\n`}</code></pre>\n    <p>{`The collection contains elements from the `}<inlineCode parentName=\"p\">{`$data`}</inlineCode>{` array.`}</p>\n    <p><strong parentName=\"p\">{`Example`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$objectManagerHelper = new \\\\Magento\\\\TestFramework\\\\Helper\\\\ObjectManager($this);\n// Prepare mock for collection elements\n$option = $this->getMock(\n    'Magento\\\\Bundle\\\\Model\\\\Option',\n    ['getSelections', '__wakeup', 'getData'],\n    [],\n    '',\n    false\n);\n$optionCollection =\n     $this->objectManagerHelper->getCollectionMock('Magento\\\\Bundle\\\\Model\\\\Resource\\\\Option\\\\Collection',\n          [$options]);\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"getconstructarguments\"\n    }}>{`getConstructArguments`}</h3>\n    <p>{`Lists dependency mocks for a specified class.`}</p>\n    <p><strong parentName=\"p\">{`Syntax`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`public function getConstructArguments($className,\n     array $arguments = []);\n`}</code></pre>\n    <p>{`In Adobe Commerce and Magento Open Source, several tests introduced mocks for abstract models and blocks.`}</p>\n    <p><strong parentName=\"p\">{`Example`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$attributeData = [\n    'store_label' => 'Test',\n    'attribute_code' => 'test',\n    'is_required' => 1,\n    'validate_rules' => [\n        'min_text_length' => 0,\n        'max_text_length' => 0,\n        'input_validation' => 0,\n    ]\n];\n$objectManagerHelper = new \\\\Magento\\\\TestFramework\\\\Helper\\\\ObjectManager($this);\n$attributeClass = '\\\\Magento\\\\Eav\\\\Model\\\\Entity\\\\Attribute\\\\AbstractAttribute';\n$objectManagerHelper = new \\\\Magento\\\\TestFramework\\\\Helper\\\\ObjectManager($this);\n// Retrieve mocked constructor arguments\n$arguments = $objectManagerHelper->getConstructArguments(\n    $attributeClass,\n    [\n        'data' => $attributeData,\n    ]\n);\n\n/** @var $attribute \\\\Magento\\\\Eav\\\\Model\\\\Entity\\\\Attribute\\\\AbstractAttribute|\\\\PHPUnit\\\\Framework\\\\MockObject\\\\MockObject */\n$attribute = $this->getMockForAbstractClass($attributeClass,\n    $arguments);\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}