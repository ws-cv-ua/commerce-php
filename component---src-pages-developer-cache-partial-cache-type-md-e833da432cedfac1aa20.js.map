{"version":3,"file":"component---src-pages-developer-cache-partial-cache-type-md-e833da432cedfac1aa20.js","mappings":"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","sources":["webpack://commerce-php/./src/pages/developer/cache/partial/cache-type.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-php/commerce-php/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`A `}<em parentName=\"p\">{`cache type`}</em>{` enables you to specify what is cached and enables merchants to clear that `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/cache-type\"\n      }}>{`cache type`}</a>{` using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/cache\"\n      }}>{`Cache`}</a>{` Management page in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://glossary.magento.com/magento-admin\"\n      }}>{`Admin`}</a>{`.`}</p>\n    <p>{`The tag `}<em parentName=\"p\">{`scope`}</em>{` provides a mechanism for a cache type.`}</p>\n    <h2 {...{\n      \"id\": \"cache-type-configuration-m2devgde-cache-type-configuration\"\n    }}>{`Cache type configuration {#m2devgde-cache-type-configuration}`}</h2>\n    <p>{`Declare a new cache type in the `}<inlineCode parentName=\"p\">{`<module_dir>/etc/cache.xml`}</inlineCode>{` file with the following attributes:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Attribute`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required?`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`name`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A unique cache type ID`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`translate`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`No`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameters that will be translated on the \"Cache Management\" page`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`instance`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Yes`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The cache type model class`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Also, cache type configuration have the following required parameters:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`label`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The \"Cache Type\" field to be displayed on the `}<inlineCode parentName=\"td\">{`System`}</inlineCode>{` > `}<inlineCode parentName=\"td\">{`Tools`}</inlineCode>{` > `}<inlineCode parentName=\"td\">{`Cache Management`}</inlineCode>{` page.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`description`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The \"Description\" field to be displayed on the `}<inlineCode parentName=\"td\">{`System`}</inlineCode>{` > `}<inlineCode parentName=\"td\">{`Tools`}</inlineCode>{` > `}<inlineCode parentName=\"td\">{`Cache Management`}</inlineCode>{` page.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\"?>\n<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:framework:Cache/etc/cache.xsd\">\n    <type name=\"%cache_type_id%\" translate=\"label,description\" instance=\"VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType\">\n        <label>Cache Type Label</label>\n        <description>Cache Type Description</description>\n    </type>\n</config>\n`}</code></pre>\n    <p>{`You may declare multiple cache types.`}</p>\n    <h2 {...{\n      \"id\": \"cache-type-model-m2devgde-cache-type-model\"\n    }}>{`Cache type model {#m2devgde-cache-type-model}`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`<?php\n/**\n * Copyright © Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nnamespace VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type;\n\nuse Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\FrontendPool;\nuse Magento\\\\Framework\\\\Cache\\\\Frontend\\\\Decorator\\\\TagScope;\n\n/**\n * System / Cache Management / Cache type \"Your Cache Type Label\"\n */\nclass CacheType extends TagScope\n{\n    /**\n     * Cache type code unique among all cache types\n     */\n    const TYPE_IDENTIFIER = '%cache_type_id%';\n\n    /**\n     * The tag name that limits the cache cleaning scope within a particular tag\n     */\n    const CACHE_TAG = '%CACHE_TYPE_TAG%';\n\n    /**\n     * @param FrontendPool $cacheFrontendPool\n     */\n    public function __construct(FrontendPool $cacheFrontendPool)\n    {\n        parent::__construct(\n            $cacheFrontendPool->get(self::TYPE_IDENTIFIER),\n            self::CACHE_TAG\n        );\n    }\n}\n`}</code></pre>\n    <p>{`You must specify the following parameters:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`VendorName\\\\ModuleName`}</inlineCode>{` defines the name of a `}<a parentName=\"li\" {...{\n          \"href\": \"https://glossary.magento.com/module\"\n        }}>{`module`}</a>{` that uses a cache type. A module can use several cache types and a cache type can be used in several modules.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`%cache_type_id%`}</inlineCode>{` defines the unique identifier of a cache type.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`%CACHE_TYPE_TAG%`}</inlineCode>{` defines the unique tag to be used in the cache type scoping.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"store-data-in-a-custom-cache-type-m2devgde-store-data-cache-type\"\n    }}>{`Store data in a custom cache type {#m2devgde-store-data-cache-type}`}</h2>\n    <p>{`To store serialized data in a custom cache, follow these steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Pass the argument to the constructor `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\App\\\\CacheInterface`}</inlineCode>{` `}<inlineCode parentName=\"p\">{`$cache`}</inlineCode>{` of a required class (Repository, Model, Block, etc).`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-php\"\n          }}>{`/**\n * @param CacheInterface $cache\n * @param SerializerInterface $serializer\n */\npublic function __construct(CacheInterface $cache, SerializerInterface $serializer)\n{\n    $this->cache = $cache;\n    $this->serializer = $serializer;\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Store data in the cache.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-php\"\n          }}>{`$cacheKey  = \\\\VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType::TYPE_IDENTIFIER;\n$cacheTag  = \\\\VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType::CACHE_TAG;\n\n$storeData = $this->cache->save(\n    $this->serializer->serialize($cacheData),\n    $cacheKey,\n    [$cacheTag],\n    86400\n);\n`}</code></pre>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"retrieve-data-from-custom-cache-type-m2devgde-retrieve-data-cache-type\"\n    }}>{`Retrieve data from custom cache type {#m2devgde-retrieve-data-cache-type}`}</h2>\n    <p>{`Retrieve data from the cache with:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$cacheKey  = \\\\VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType::TYPE_IDENTIFIER;\n\n$data = $this->serializer->unserialize($this->cache->load($cacheKey));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"invalidate-custom-cache-type-m2devgde-invalidate-cache-type\"\n    }}>{`Invalidate custom cache type {#m2devgde-invalidate-cache-type}`}</h2>\n    <p>{`To invalidate a custom cache type, follow these steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Pass the argument to the constructor `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\App\\\\Cache\\\\TypeListInterface`}</inlineCode>{` `}<inlineCode parentName=\"p\">{`$typeList`}</inlineCode>{` of a required class (Repository, Model, Block, etc).`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-php\"\n          }}>{`/**\n * @param TypeListInterface $typeList\n */\npublic function __construct(TypeListInterface $typeList)\n{\n    $this->typeList = $typeList;\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Invalidate the cache.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-php\"\n          }}>{`$cacheKey  = \\\\VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType::TYPE_IDENTIFIER;\n\n$this->typeList->invalidate($cacheKey);\n`}</code></pre>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"flush-custom-cache-type-m2devgde-flush-cache-type\"\n    }}>{`Flush custom cache type {#m2devgde-flush-cache-type}`}</h2>\n    <p>{`The custom cache type can be flushed in the following ways:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Go to System -> Cache Management and flush the custom cache type`}</li>\n      <li parentName=\"ul\">{`Programmatically, using the TypeList.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`$cacheKey  = \\\\VendorName\\\\ModuleName\\\\Model\\\\Cache\\\\Type\\\\CacheType::TYPE_IDENTIFIER;\n\n$this->typeList->cleanType($cacheKey);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"examples-m2devgde-cache-type-model\"\n    }}>{`Examples {#m2devgde-cache-type-model}`}</h2>\n    <p>{`A cache type `}<inlineCode parentName=\"p\">{`translate`}</inlineCode>{` is declared in the Magento_Translation module using the `}<inlineCode parentName=\"p\">{`cache.xml`}</inlineCode>{` configuration file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:framework:Cache/etc/cache.xsd\">\n    <type name=\"translate\" translate=\"label,description\" instance=\"Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\Translate\">\n        <label>Translations</label>\n        <description>Translation files</description>\n    </type>\n</config>\n`}</code></pre>\n    <p>{`Translate cache type model class is defined in `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\App\\\\Cache\\\\Type\\\\Translate.php`}</inlineCode>{` class. It must extend the `}<inlineCode parentName=\"p\">{`Magento\\\\Framework\\\\Cache\\\\Frontend\\\\Decorator\\\\TagScope`}</inlineCode>{` class.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`<?php\n/**\n * Copyright © Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nnamespace Magento\\\\Framework\\\\App\\\\Cache\\\\Type;\n\nuse Magento\\\\Framework\\\\Cache\\\\Frontend\\\\Decorator\\\\TagScope;\n\n/**\n * System / Cache Management / Cache type \"Translations\"\n */\nclass Translate extends TagScope\n{\n    /**\n     * Cache type code unique among all cache types\n     */\n    const TYPE_IDENTIFIER = 'translate';\n\n    /**\n     * Cache tag used to distinguish the cache type from all other caches\n     */\n    const CACHE_TAG = 'TRANSLATE';\n\n    /**\n     * @param FrontendPool $cacheFrontendPool\n     */\n    public function __construct(FrontendPool $cacheFrontendPool)\n    {\n        parent::__construct($cacheFrontendPool->get(self::TYPE_IDENTIFIER), self::CACHE_TAG);\n    }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}